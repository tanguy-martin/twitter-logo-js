<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Twitter logo drawn with Canvas...</title>
        <script>
        function getOffset( el ) {
    var _x = 0;
    var _y = 0;
    while( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {
        _x += el.offsetLeft - el.scrollLeft;
        _y += el.offsetTop - el.scrollTop;
        el = el.parentNode;
    }
    return { top: _y, left: _x };
}
        window.onload = function() {
            var canvas = document.getElementById('viewport'),
            ctx = canvas.getContext('2d');
            var cOffset = getOffset(canvas),
                cX = cOffset.left,
                cY = cOffset.top,
                txtPoints = document.getElementById('points');
                i=0;
                            canvas.addEventListener('mousemove', function(e) {
                //console.log('x='+ (e.screenX-cX));
                //console.log('y='+ (e.screenY-cY));
            }, true);
            
            canvas.addEventListener('mousedown', function(e) {
                var x = (e.clientX - cX - 3),
                    y = (e.clientY - cY - 3);
                ctx.beginPath();
                ctx.arc(x, y, 2, 0, 2*Math.PI, true);
                ctx.fill();
                txtPoints.textContent += 'Point ' + i + ' = (' + x + ', ' + y + ')\n';
                i++;
            }, true);
            
            // draw body
            ctx.fillStyle = "#33ccff";
            ctx.beginPath();
            ctx.moveTo(42, 181);
            ctx.bezierCurveTo(105, 259, 210, 222, 232, 154);
            ctx.bezierCurveTo(241, 106, 198, 86, 186, 90);
            ctx.bezierCurveTo(159, 87, 149, 120, 146, 130);
            ctx.lineTo(120, 181);
            ctx.bezierCurveTo(106, 205, 60, 202, 42, 181);
            ctx.fill();
            
            
            // draw beak
            // bottom part
            //ctx.beginPath();
            ctx.moveTo(231, 154);
            ctx.lineTo(231, 141);
            ctx.bezierCurveTo(245, 146, 250, 144, 257, 144);
            ctx.bezierCurveTo(259, 144, 253, 153, 231, 154);
            ctx.fill();
            // top part
            //ctx.beginPath();
            ctx.moveTo(233, 143);
            ctx.lineTo(230, 130);
            ctx.bezierCurveTo(241, 135, 251, 129, 257, 129);
            ctx.bezierCurveTo(257, 125, 259, 136, 237, 142);
            ctx.fill();
            
            // draw crest
            ctx.beginPath();
            ctx.moveTo(155, 109);
            ctx.bezierCurveTo(155, 109, 163, 91, 179, 78);
            ctx.lineTo(178, 83);
            ctx.bezierCurveTo(178, 83, 183, 79, 192, 76);
            ctx.bezierCurveTo(192, 76, 194, 78, 186, 83);
            ctx.bezierCurveTo(213, 74, 205, 89, 183, 90);
            ctx.fill();
            
            // draw wings
            ctx.beginPath();
            ctx.moveTo(146, 131);
            ctx.bezierCurveTo(136, 115, 91, 98, 74, 92);
            ctx.bezierCurveTo(75, 104, 85, 120, 95, 119);
            ctx.bezierCurveTo(115, 118, 85, 119, 79, 120);
            ctx.bezierCurveTo(81, 128, 92, 140, 102, 142);
            ctx.bezierCurveTo(99, 142, 92, 143, 89, 148);
            ctx.bezierCurveTo(94, 159, 104, 161, 114, 161);
            ctx.bezierCurveTo(101, 171, 110, 180, 127, 180);
            ctx.lineTo(146, 131);
            ctx.fill();
            
            /*
            
            */
            
            // this is our model
            var img = new Image();
            img.src = 'twitter-logo.png';
            ctx.globalAlpha = 0;
            ctx.drawImage(img, 0, 0, 300, 300);
            ctx.globalAlpha = 1;

        };
        
        </script>
        <style>
        	body { background:#fffff; font-family: Museo,"Trebuchet MS",sans-serif; text-align:center; }
            #viewport { border:2px solid #ccc; display:block; margin: 20px auto 20px; background:#; box-shadow: 0px 0px 10px 0px #333; }
			h1 { color:#33ccff; margin:auto; text-shadow: 1px 1px 1px #333;
				}
        </style>
    </head>
    <body>
    	<h1>Twitter logo drawn with Canvas...</h1>
        <canvas id="viewport" width="400" height="400"></canvas>
        <textarea id="points" cols="100" rows="50"></textarea>
    </body>
</html>
